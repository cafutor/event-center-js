"use strict";function EventCenter(){var i=this;this.eventHub={},this.on=function(e,t){if("[object String]"!==Object.prototype.toString.call(e))throw new Error("event name must be a string.check the method eventCenter.on()!");if(0===e.length)throw new Error("empty event name is not allowed.check the method eventCenter.on()!");if("[object Function]"!==Object.prototype.toString.call(t))throw new Error("listener must be a function. check the method eventCenter.on()!");function n(){t.apply(void 0,arguments)}return void 0===i.eventHub[e]?i.eventHub[e]=[n]:i.eventHub[e].push(n),function(){void 0!==i.eventHub[e]&&(i.eventHub[e]=i.eventHub[e].map(function(e){return e===n?void 0:e}),0===i.eventHub[e].length)&&delete i.eventHub[e]}},this.fire=function(e,t){if(void 0!==i.eventHub[e]){for(var n=i.eventHub[e].length,o=0;o<n;o++)i.eventHub[e][o](t);i.fixListener(e)}},this.off=function(e){void 0!==i.eventHub[e]&&(i.eventHub[e].pop(),0===i.eventHub[e].length)&&delete i.eventHub[e]},this.once=function(e,t){var n=i.on(e,function(){t.apply(void 0,arguments),n(),i.fixListener()})}}Object.defineProperty(exports,"__esModule",{value:!0}),(exports.default=EventCenter).prototype={fixListener:function(e){void 0!==this.eventHub[e]&&(this.eventHub[e]=this.eventHub[e].filter(function(e){return void 0!==e}),0===this.eventHub[e].length)&&delete this.eventHub[e]}};